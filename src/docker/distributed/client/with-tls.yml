services:
  supernode-1: &supernode
    command:
      - --superlink
      - ${SUPERLINK_IP:-127.0.0.1}:9092
      - --root-certificates
      - certificates/ca.crt
    secrets:
      - source: superlink-ca-certfile
        target: /app/certificates/ca.crt

  supernode-2: *supernode

  # uncomment to add another supernode
  #
  # supernode-3: *supernode

secrets:
  superlink-ca-certfile:
    file: ../superlink-certificates/ca.crt
